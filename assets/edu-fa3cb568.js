/* empty css             */import{M as R,_ as j,d as k}from"./index-b7f7e072.js";/* empty css                  */import{_ as q}from"./Menu-df2e0bb2.js";import{d as F,u as H,J as S,s as N,M as Q,N as w,o as b,c as C,f as _,t as l,w as n,e as $,a as s,O as E,P as G,Q as W,R as V,p as X,b as Y,v as Z,S as ee,T as te,U as ae,V as oe,_ as le}from"./index-36069e73.js";import"./baseSetting-562f4030.js";import"./base-32b23c0f.js";/* empty css                     */const se=m=>(X("data-v-559a12f1"),m=m(),Y(),m),ne={class:"container"},ce=se(()=>s("div",null,"2024",-1)),ie={class:"card-header"},re=["onClick"],de=["src"],_e=["data-url"],pe=["onClick"],ue=F({__name:"edu",setup(m){const M=H();let h=S(!1),o=N(R());Q(()=>{o=o.map(e=>{var t;return e.activeName=(t=e.children[0])==null?void 0:t.label,e})}),console.log("=======",o);let g=S(JSON.stringify(o)),f=g.value;w(o,(e,t)=>{let a=JSON.stringify(e);f!==a&&(g.value=a,f=a,localStorage.setItem("customBox",a))}),w(g,(e,t)=>{try{if(f!==e){let a=JSON.parse(e);o.splice(0,o.length),o.push(...a)}}catch{Z.error({content:"JSON配置解析失败",showIcon:!0})}});const T=e=>{let t=e&&`${e}`.split("_"),a=o[Number(t[0])];const i=a==null?void 0:a.children[Number(t[1])];a.activeName=i.label,console.log("select",a)},A=e=>{let t=/^http(s)?:\/\/(.*?)\//.exec(e);return t&&t.length>=2?t[2]:""};let c=N({visible:!1,name:"",url:"",type:3,t:0,i:0,j:0});const B=(e,t,a,i)=>{console.log("t, i, j, url",e,t,a,i);const v=M.resolve({path:"/detail",query:{url:i}}).href;window.open(v,"_blank")},I=(e,t)=>{c.type=2;let a=o[e].categories;t<a.length?c.name=a[t].name:c.name="",c.t=e,c.i=t,c.visible=!0},U=(e,t)=>{o[e].categories.splice(t,1)},J=(e,t,a)=>{o[e].categories[t].links.splice(a,1)},O=e=>{I(e,o[e].categories.length)},D=e=>{let t=e.split("_");U(t[0],t[1])};return(e,t)=>{const a=j,i=q,v=ee,z=te,K=ae,L=oe;return b(),C("div",ne,[ce,_(a,{class:"search-container"}),_(i,{datas:l(o),onSelect:T},null,8,["datas"]),_(l(k),{list:l(o),handle:".category-drag-handle",animation:100,draggable:".tab",class:"draggable",group:"tabs",itemKey:"index"},{item:n(({element:r,index:p})=>[(b(),$(L,{key:p,class:"tab",shadow:"hover",style:{width:"100%","margin-bottom":"20px","box-sizing":"border-box"},id:`${r.label}`,ref:`${r.label}`,hoverable:""},{header:n(()=>[s("div",ie,[s("span",null,E(r.label),1)])]),default:n(()=>[_(K,{type:"border-card","tab-position":"top",editable:l(h),"show-add-button":l(h),modelValue:r.activeName,"onUpdate:modelValue":d=>r.activeName=d,onAdd:d=>O(p),stretch:!1,onDelete:D},{default:n(()=>[(b(!0),C(G,null,W(r.children,(d,x)=>(b(),$(z,{key:`${p}_${x}`,label:d.label,name:d.label},{default:n(()=>[_(l(k),{tag:"ul",list:d.children,class:"list-group",animation:100,draggable:".link-li",group:"links",itemKey:"i"},{item:n(({element:u,index:y})=>[s("div",{class:V(["link-chip",{"link-li":!0,"link-li-editable":l(h)}]),onClick:P=>B(p,x,y,u.url)},[s("img",{class:"link-chip-image",src:"https://0x3.com/icon?host="+A(u.url)},null,8,de),_(v,{content:u.label},{default:n(()=>[s("a",{class:"link-a","data-url":u.url},E(u.label),9,_e)]),_:2},1032,["content"]),s("div",{class:V({"link-chip-btn":!0,hidden:!l(h)})},[s("i",{class:"iconfont cursor-pointer icon-chacha",onClick:P=>J(p,x,y)},null,8,pe)],2)],10,re)]),_:2},1032,["list"])]),_:2},1032,["label","name"]))),128))]),_:2},1032,["editable","show-add-button","modelValue","onUpdate:modelValue","onAdd"])]),_:2},1032,["id"]))]),_:1},8,["list"])])}}});const ke=le(ue,[["__scopeId","data-v-559a12f1"]]);export{ke as default};
